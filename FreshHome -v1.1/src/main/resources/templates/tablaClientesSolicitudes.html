<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Solicitudes | FreshHome</title>

  <!-- Bootstrap & Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet"/>
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet"/>

  <!-- Estilos personalizados -->
  <link rel="stylesheet" href="../static/css/tablaSolicitudes.css" />
</head>

<body>
  <header>
    <a href="./InicioVista.html" class="logo" title="Inicio">
      <img src="../static/img/FreshHome.png" alt="Logo FreshHome" style="height: 60px;"> <!-- Logo en lugar de "FreshHome" -->
    </a>
    <nav>
      <a class="logout" href="perfilEmpleado.html" title="Cerrar sesión"> <!-- Redirige a perfilEmpleado.html -->
        <i class="bi bi-box-arrow-right me-1"></i>Salir
      </a>
    </nav>
  </header>

  <main class="container">
    <h2 class="mb-4">Solicitudes de Clientes</h2>

    <!-- Botón "Ver Clientes" -->
    <div class="mb-4">
      <a href="tablaClientes.html" class="btn btn-primary">Ver Clientes</a> <!-- Botón separado -->
    </div>

    <!-- Filtros -->
    <div class="filters">
      <input type="text" id="searchInput" placeholder="Buscar cliente..." oninput="filtrarTabla()"/>
      <select id="estadoFiltro" onchange="filtrarTabla()">
        <option value="">Todos los estados</option>
        <option value="Aprobada">Aprobada</option>
        <option value="Pendiente">Pendiente</option>
        <option value="Cancelada">Cancelada</option>
      </select>
    </div>

    <!-- Tabla de solicitudes -->
    <div class="table-responsive">
      <table class="table table-striped table-borderless align-middle">
        <thead>
          <tr>
            <th>Cliente</th>
            <th>Servicio</th>
            <th>Fecha</th>
            <th>Estado</th>
          </tr>
        </thead>
        <tbody id="tablaSolicitudes">
          <tr>
            <td>Andrea Ruiz</td>
            <td>Limpieza</td>
            <td>2025-04-28</td>
            <td><span class="status Aprobada">Aprobada</span></td>
          </tr>
          <tr>
            <td>Juan Pérez</td>
            <td>Plomería</td>
            <td>2025-04-30</td>
            <td><span class="status Pendiente">Pendiente</span></td>
          </tr>
          <tr>
            <td>María López</td>
            <td>Electricidad</td>
            <td>2025-05-01</td>
            <td><span class="status Cancelada">Cancelada</span></td>
          </tr>
        </tbody>
      </table>
    </div>
  </main>

  <script>
    function filtrarTabla() {
      const input = document.getElementById("searchInput").value.toLowerCase();
      const estado = document.getElementById("estadoFiltro").value;
      const filas = document.querySelectorAll("#tablaSolicitudes tr");

      filas.forEach(fila => {
        const nombre = fila.children[0].textContent.toLowerCase();
        const estadoActual = fila.children[3].textContent.trim();

        const coincideNombre = nombre.includes(input);
        const coincideEstado = estado === "" || estadoActual === estado;

        fila.style.display = coincideNombre && coincideEstado ? "" : "none";
      });
    }
  </script>
</body>
</html>
